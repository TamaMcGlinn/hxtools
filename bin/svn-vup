#!/usr/bin/perl

use Getopt::Long;
use strict;
&Getopt::Long::Configure(qw(bundling pass_through));

my $old = (`svnversion` =~ /^(\d+)/)[0];
my $new = "HEAD";
&GetOptions("r=s" => \$new);

#print "Executing svn up -r$new ", join(" ", @ARGV), "\n";
system "svn", "up", "-r$new", @ARGV;
#print "Executing svn log -r$old:$new ", join(" ", @ARGV), "\n";
system "svn", "log", "-r$old:$new", @ARGV;
system "svn diff -r$old:$new | diffstat";
